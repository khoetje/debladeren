{% if type.size > 1 %}
  {% assign image_box_ratio = type.height | append: ".0" | times: 1 | divided_by: type.width | times: 100 | append: "%" %}
  {% assign img_url = type | img_url: '1x1' | replace: '_1x1.', '_{width}x.' %}

  {% if template == 'product' %}
    {% assign imageid = product.id %}
  {% else %}
    {% assign imageid = image.id %}
  {% endif %}

  <div class="box-ratio" style="padding-bottom: {{ image_box_ratio }};">
    <img class="lazyload lazyload-fade"
      {% if imageid %}id="{{ imageid }}"{% endif %}
      data-src="{{ img_url }}"
      data-sizes="auto"
      {%- if data_widths != blank -%}data-widths="{{ data_widths }}"{%- endif -%}
      alt="{{ type.alt | escape }}">
  </div>

  <noscript>
    <img src="{{ type | img_url: '800x' }}" alt="{{ type.alt }}">
  </noscript>
{% endif %}
